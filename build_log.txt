#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 838B 0.0s done
#1 DONE 0.1s

#2 [internal] load metadata for docker.io/library/rust:latest
#2 DONE 0.9s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s

#4 [internal] load build context
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/rust:latest@sha256:e35d0f677e0e0be6f4b4f93bf16e6f93ab4f427dc440a0ef12511026f8b7d7e3
#5 resolve docker.io/library/rust:latest@sha256:e35d0f677e0e0be6f4b4f93bf16e6f93ab4f427dc440a0ef12511026f8b7d7e3
#5 resolve docker.io/library/rust:latest@sha256:e35d0f677e0e0be6f4b4f93bf16e6f93ab4f427dc440a0ef12511026f8b7d7e3 0.1s done
#5 DONE 0.1s

#4 [internal] load build context
#4 transferring context: 116B done
#4 DONE 0.1s

#6 [2/5] WORKDIR /app
#6 CACHED

#7 [3/5] COPY . .
#7 CACHED

#8 [4/5] RUN apt-get update && apt-get install -y protobuf-compiler libssl-dev pkg-config libclang-dev build-essential && rm -rf /var/lib/apt/lists/*
#8 CACHED

#9 [5/5] RUN cargo build --release
#9 0.534     Updating crates.io index
#9 2.455      Locking 182 packages to latest compatible versions
#9 2.459       Adding generic-array v0.14.7 (available: v0.14.9)
#9 2.482       Adding wtransport v0.1.14 (available: v0.7.0)
#9 2.494  Downloading crates ...
#9 2.583   Downloaded shlex v1.3.0
#9 2.595   Downloaded rustls-pemfile v2.2.0
#9 2.600   Downloaded asn1-rs-derive v0.5.1
#9 2.603   Downloaded time-core v0.1.8
#9 2.606   Downloaded rusticata-macros v4.1.0
#9 2.609   Downloaded anyhow v1.0.101
#9 2.616   Downloaded version_check v0.9.5
#9 2.619   Downloaded idna v1.1.0
#9 2.625   Downloaded wtransport v0.1.14
#9 2.631   Downloaded untrusted v0.7.1
#9 2.634   Downloaded zerofrom-derive v0.1.6
#9 2.638   Downloaded utf8_iter v1.0.4
#9 2.647   Downloaded zeroize v1.8.2
#9 2.656   Downloaded zmij v1.0.19
#9 2.665   Downloaded yoke v0.8.1
#9 2.671   Downloaded tracing-core v0.1.36
#9 2.686   Downloaded zerotrie v0.2.3
#9 2.697   Downloaded url v2.5.8
#9 2.711   Downloaded zerovec v0.11.5
#9 2.733   Downloaded x509-parser v0.16.0
#9 2.747   Downloaded rand v0.8.5
#9 2.760   Downloaded serde_json v1.0.149
#9 2.778   Downloaded getrandom v0.2.17
#9 2.787   Downloaded rustls-pki-types v1.14.0
#9 2.795   Downloaded base64 v0.21.7
#9 2.806   Downloaded cpufeatures v0.2.17
#9 2.810   Downloaded idna_adapter v1.2.1
#9 2.812   Downloaded zerocopy v0.8.39
#9 2.855   Downloaded stable_deref_trait v1.2.1
#9 2.860   Downloaded nom v7.1.3
#9 2.872   Downloaded quinn-proto v0.10.6
#9 2.889   Downloaded memchr v2.8.0
#9 2.910   Downloaded thiserror v1.0.69
#9 2.923   Downloaded signal-hook-registry v1.4.8
#9 2.926   Downloaded sha2 v0.10.9
#9 2.934   Downloaded rustls-native-certs v0.7.3
#9 2.942   Downloaded percent-encoding v2.3.2
#9 2.944   Downloaded tracing v0.1.44
#9 2.976   Downloaded num-traits v0.2.19
#9 2.983   Downloaded litemap v0.8.1
#9 2.991   Downloaded socket2 v0.5.10
#9 2.995   Downloaded find-msvc-tools v0.1.9
#9 3.000   Downloaded parking_lot v0.12.5
#9 3.006   Downloaded httlib-huffman v0.3.4
#9 3.013   Downloaded sct v0.7.1
#9 3.023   Downloaded quinn-udp v0.4.1
#9 3.035   Downloaded parking_lot_core v0.9.12
#9 3.042   Downloaded once_cell v1.21.3
#9 3.047   Downloaded octets v0.3.4
#9 3.051   Downloaded cfg-if v1.0.4
#9 3.055   Downloaded itoa v1.0.17
#9 3.059   Downloaded rcgen v0.13.2
#9 3.066   Downloaded icu_properties v2.1.2
#9 3.073   Downloaded generic-array v0.14.7
#9 3.077   Downloaded tinyvec v1.10.0
#9 3.086   Downloaded syn v2.0.114
#9 3.110   Downloaded scopeguard v1.2.0
#9 3.119   Downloaded rand_core v0.6.4
#9 3.119   Downloaded ppv-lite86 v0.2.21
#9 3.123   Downloaded tokio v1.49.0
#9 3.182   Downloaded quote v1.0.44
#9 3.187   Downloaded spin v0.5.2
#9 3.192   Downloaded synstructure v0.13.2
#9 3.197   Downloaded serde_core v1.0.228
#9 3.205   Downloaded rustls-pemfile v1.0.4
#9 3.216   Downloaded ring v0.16.20
#9 3.322   Downloaded asn1-rs v0.6.2
#9 3.334   Downloaded icu_locale_core v2.1.1
#9 3.353   Downloaded deranged v0.5.5
#9 3.359   Downloaded num-bigint v0.4.6
#9 3.374   Downloaded libc v0.2.180
#9 3.479   Downloaded base64 v0.22.1
#9 3.490   Downloaded errno v0.3.14
#9 3.493   Downloaded bytes v1.11.1
#9 3.501   Downloaded rand_chacha v0.3.1
#9 3.506   Downloaded der-parser v9.0.0
#9 3.517   Downloaded asn1-rs-impl v0.2.0
#9 3.520   Downloaded proc-macro2 v1.0.106
#9 3.529   Downloaded ring v0.17.14
#9 3.585   Downloaded serde v1.0.228
#9 3.589   Downloaded cc v1.2.55
#9 3.592   Downloaded minimal-lexical v0.2.1
#9 3.596   Downloaded mio v1.1.1
#9 3.602   Downloaded icu_properties_data v2.1.2
#9 3.611   Downloaded icu_normalizer v2.1.1
#9 3.615   Downloaded powerfmt v0.2.0
#9 3.617   Downloaded openssl-probe v0.1.6
#9 3.619   Downloaded socket2 v0.6.2
#9 3.621   Downloaded time v0.3.47
#9 3.634   Downloaded num-integer v0.1.46
#9 3.636   Downloaded autocfg v1.5.0
#9 3.638   Downloaded rustc-hash v1.1.0
#9 3.640   Downloaded rustls v0.21.12
#9 3.652   Downloaded quinn v0.10.2
#9 3.656   Downloaded tinystr v0.8.2
#9 3.658   Downloaded rustls-webpki v0.101.7
#9 3.674   Downloaded log v0.4.29
#9 3.678   Downloaded data-encoding v2.10.0
#9 3.680   Downloaded slab v0.4.12
#9 3.681   Downloaded rustls-native-certs v0.6.3
#9 3.684   Downloaded icu_normalizer_data v2.1.1
#9 3.687   Downloaded thiserror-impl v1.0.69
#9 3.688   Downloaded icu_collections v2.1.1
#9 3.694   Downloaded block-buffer v0.10.4
#9 3.696   Downloaded smallvec v1.15.1
#9 3.698   Downloaded serde_derive v1.0.228
#9 3.703   Downloaded pin-project-lite v0.2.16
#9 3.709   Downloaded pem v3.0.6
#9 3.718   Downloaded yasna v0.5.2
#9 3.722   Downloaded wtransport-proto v0.1.14
#9 3.725   Downloaded unicode-ident v1.0.22
#9 3.729   Downloaded tracing-attributes v0.1.31
#9 3.733   Downloaded time-macros v0.2.27
#9 3.737   Downloaded potential_utf v0.1.4
#9 3.740   Downloaded oid-registry v0.7.1
#9 3.742   Downloaded form_urlencoded v1.2.2
#9 3.743   Downloaded digest v0.10.7
#9 3.746   Downloaded crypto-common v0.1.7
#9 3.748   Downloaded zerovec-derive v0.11.2
#9 3.750   Downloaded writeable v0.6.2
#9 3.754   Downloaded tokio-macros v2.6.0
#9 3.755   Downloaded num-conv v0.2.0
#9 3.757   Downloaded lock_api v0.4.14
#9 3.760   Downloaded icu_provider v2.1.1
#9 3.764   Downloaded displaydoc v0.2.5
#9 3.768   Downloaded zerofrom v0.1.6
#9 3.770   Downloaded yoke-derive v0.8.1
#9 3.771   Downloaded typenum v1.19.0
#9 3.775   Downloaded untrusted v0.9.0
#9 3.778   Downloaded tinyvec_macros v0.1.1
#9 3.780   Downloaded lazy_static v1.5.0
#9 4.048    Compiling proc-macro2 v1.0.106
#9 4.048    Compiling quote v1.0.44
#9 4.048    Compiling unicode-ident v1.0.22
#9 4.050    Compiling libc v0.2.180
#9 4.050    Compiling cfg-if v1.0.4
#9 4.050    Compiling shlex v1.3.0
#9 4.052    Compiling find-msvc-tools v0.1.9
#9 4.054    Compiling stable_deref_trait v1.2.1
#9 4.056    Compiling autocfg v1.5.0
#9 4.056    Compiling smallvec v1.15.1
#9 4.120    Compiling thiserror v1.0.69
#9 4.130    Compiling writeable v0.6.2
#9 4.155    Compiling litemap v0.8.1
#9 4.241    Compiling cc v1.2.55
#9 4.330    Compiling itoa v1.0.17
#9 4.340    Compiling powerfmt v0.2.0
#9 4.367    Compiling time-core v0.1.8
#9 4.368    Compiling num-conv v0.2.0
#9 4.382    Compiling typenum v1.19.0
#9 4.411    Compiling untrusted v0.9.0
#9 4.519    Compiling deranged v0.5.5
#9 4.524    Compiling zerocopy v0.8.39
#9 4.536    Compiling time-macros v0.2.27
#9 4.594    Compiling num-traits v0.2.19
#9 4.673    Compiling icu_normalizer_data v2.1.1
#9 4.707    Compiling icu_properties_data v2.1.2
#9 4.725    Compiling version_check v0.9.5
#9 4.896    Compiling memchr v2.8.0
#9 5.024    Compiling minimal-lexical v0.2.1
#9 5.097    Compiling once_cell v1.21.3
#9 5.340    Compiling generic-array v0.14.7
#9 5.797    Compiling syn v2.0.114
#9 5.824    Compiling nom v7.1.3
#9 6.306    Compiling getrandom v0.2.17
#9 6.615    Compiling log v0.4.29
#9 6.708    Compiling pin-project-lite v0.2.16
#9 6.715    Compiling parking_lot_core v0.9.12
#9 6.840    Compiling time v0.3.47
#9 6.844    Compiling ring v0.17.14
#9 6.862    Compiling ring v0.16.20
#9 6.904    Compiling rand_core v0.6.4
#9 6.993    Compiling tracing-core v0.1.36
#9 7.348    Compiling openssl-probe v0.1.6
#9 7.351    Compiling base64 v0.21.7
#9 7.503    Compiling bytes v1.11.1
#9 7.828    Compiling scopeguard v1.2.0
#9 7.844    Compiling rustls v0.21.12
#9 7.928    Compiling zeroize v1.8.2
#9 7.980    Compiling lock_api v0.4.14
#9 8.241    Compiling rustls-pki-types v1.14.0
#9 8.367    Compiling rustls-pemfile v1.0.4
#9 9.145    Compiling num-integer v0.1.46
#9 9.343    Compiling rusticata-macros v4.1.0
#9 9.354    Compiling errno v0.3.14
#9 9.532    Compiling untrusted v0.7.1
#9 9.600    Compiling serde_core v1.0.228
#9 9.651    Compiling tinyvec_macros v0.1.1
#9 9.708    Compiling spin v0.5.2
#9 9.715    Compiling percent-encoding v2.3.2
#9 9.801    Compiling oid-registry v0.7.1
#9 9.827    Compiling utf8_iter v1.0.4
#9 9.868    Compiling form_urlencoded v1.2.2
#9 9.884    Compiling tinyvec v1.10.0
#9 9.980    Compiling num-bigint v0.4.6
#9 10.08    Compiling signal-hook-registry v1.4.8
#9 10.23    Compiling parking_lot v0.12.5
#9 10.26    Compiling rustls-native-certs v0.6.3
#9 10.72    Compiling crypto-common v0.1.7
#9 10.84    Compiling block-buffer v0.10.4
#9 10.91    Compiling mio v1.1.1
#9 10.94    Compiling socket2 v0.5.10
#9 11.06    Compiling socket2 v0.6.2
#9 12.25    Compiling base64 v0.22.1
#9 12.45    Compiling slab v0.4.12
#9 12.49    Compiling zmij v1.0.19
#9 12.72    Compiling synstructure v0.13.2
#9 12.81    Compiling rustc-hash v1.1.0
#9 12.92    Compiling pem v3.0.6
#9 12.93    Compiling digest v0.10.7
#9 13.10    Compiling yasna v0.5.2
#9 13.34    Compiling ppv-lite86 v0.2.21
#9 13.37    Compiling rustls-pemfile v2.2.0
#9 13.62    Compiling lazy_static v1.5.0
#9 13.70    Compiling data-encoding v2.10.0
#9 13.87    Compiling rand_chacha v0.3.1
#9 13.88    Compiling octets v0.3.4
#9 14.16    Compiling httlib-huffman v0.3.4
#9 14.32    Compiling rand v0.8.5
#9 14.99    Compiling zerofrom-derive v0.1.6
#9 15.10    Compiling displaydoc v0.2.5
#9 15.19    Compiling yoke-derive v0.8.1
#9 15.53    Compiling zerovec-derive v0.11.2
#9 15.70    Compiling thiserror-impl v1.0.69
#9 15.90    Compiling tracing-attributes v0.1.31
#9 16.11    Compiling asn1-rs-impl v0.2.0
#9 16.52    Compiling asn1-rs-derive v0.5.1
#9 16.77    Compiling zerofrom v0.1.6
#9 16.90    Compiling yoke v0.8.1
#9 16.91    Compiling tokio-macros v2.6.0
#9 17.02    Compiling serde v1.0.228
#9 17.24    Compiling zerovec v0.11.5
#9 17.47    Compiling zerotrie v0.2.3
#9 17.48    Compiling serde_json v1.0.149
#9 17.61    Compiling asn1-rs v0.6.2
#9 17.65    Compiling cpufeatures v0.2.17
#9 17.68    Compiling anyhow v1.0.101
#9 17.74    Compiling sha2 v0.10.9
#9 17.96    Compiling tracing v0.1.44
#9 18.16    Compiling tokio v1.49.0
#9 18.21    Compiling serde_derive v1.0.228
#9 18.25    Compiling rustls-native-certs v0.7.3
#9 18.64    Compiling tinystr v0.8.2
#9 18.86    Compiling icu_locale_core v2.1.1
#9 18.90    Compiling potential_utf v0.1.4
#9 18.91    Compiling quinn-udp v0.4.1
#9 19.07    Compiling icu_collections v2.1.1
#9 20.23    Compiling der-parser v9.0.0
#9 20.58    Compiling icu_provider v2.1.1
#9 21.18    Compiling icu_properties v2.1.2
#9 21.60    Compiling icu_normalizer v2.1.1
#9 21.89    Compiling x509-parser v0.16.0
#9 23.99    Compiling idna_adapter v1.2.1
#9 24.17    Compiling idna v1.1.0
#9 24.39    Compiling rustls-webpki v0.101.7
#9 24.42    Compiling sct v0.7.1
#9 24.52    Compiling rcgen v0.13.2
#9 24.92    Compiling url v2.5.8
#9 26.10    Compiling wtransport-proto v0.1.14
#9 29.10    Compiling quinn-proto v0.10.6
#9 32.74    Compiling quinn v0.10.2
#9 33.56    Compiling wtransport v0.1.14
#9 36.25    Compiling meow-server v0.1.0 (/app)
#9 36.30 error[E0432]: unresolved import `wtransport::Certificate`
#9 36.30  --> src/main.rs:8:5
#9 36.30   |
#9 36.30 8 | use wtransport::Certificate;
#9 36.30   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Certificate` in the root
#9 36.30   |
#9 36.30 help: consider importing this struct instead
#9 36.30   |
#9 36.30 8 | use wtransport::tls::Certificate;
#9 36.30   |                 +++++
#9 36.30 
#9 36.30 warning: unused import: `std::net::SocketAddr`
#9 36.30  --> src/main.rs:2:5
#9 36.30   |
#9 36.30 2 | use std::net::SocketAddr;
#9 36.30   |     ^^^^^^^^^^^^^^^^^^^^
#9 36.30   |
#9 36.30   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default
#9 36.30 
#9 36.30 warning: unused import: `std::sync::Arc`
#9 36.30  --> src/main.rs:3:5
#9 36.30   |
#9 36.30 3 | use std::sync::Arc;
#9 36.30   |     ^^^^^^^^^^^^^^
#9 36.30 
#9 36.33 error[E0599]: no method named `clone` found for struct `wtransport::Connection` in the current scope
#9 36.33    --> src/main.rs:63:39
#9 36.33     |
#9 36.33  63 |     let connection_clone = connection.clone();
#9 36.33     |                                       ^^^^^
#9 36.33     |
#9 36.33 help: there is a method `close` with a similar name, but with different arguments
#9 36.33    --> /usr/local/cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wtransport-0.1.14/src/connection.rs:302:5
#9 36.33     |
#9 36.33 302 |     pub fn close(&self, error_code: VarInt, reason: &[u8]) {
#9 36.33     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#9 36.33 
#9 36.34 error[E0308]: mismatched types
#9 36.34    --> src/main.rs:88:33
#9 36.34     |
#9 36.34  88 |                 let _ = tx.send(datagram);
#9 36.34     |                            ---- ^^^^^^^^ expected `Bytes`, found `Datagram`
#9 36.34     |                            |
#9 36.34     |                            arguments to this method are incorrect
#9 36.34     |
#9 36.34 help: the return type of this call is `wtransport::datagram::Datagram` due to the type of the argument passed
#9 36.34    --> src/main.rs:88:25
#9 36.34     |
#9 36.34  88 |                 let _ = tx.send(datagram);
#9 36.34     |                         ^^^^^^^^--------^
#9 36.34     |                                 |
#9 36.34     |                                 this argument influences the return type of `send`
#9 36.34 note: method defined here
#9 36.34    --> /usr/local/cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.49.0/src/sync/broadcast.rs:631:12
#9 36.34     |
#9 36.34 631 |     pub fn send(&self, value: T) -> Result<usize, SendError<T>> {
#9 36.34     |            ^^^^
#9 36.34 
#9 36.35 error[E0599]: no method named `with_certificate` found for struct `ServerConfigBuilder<State>` in the current scope
#9 36.35   --> src/main.rs:20:10
#9 36.35    |
#9 36.35 18 |       let config = ServerConfig::builder()
#9 36.35    |  __________________-
#9 36.35 19 | |         .with_bind_default(4433)
#9 36.35 20 | |         .with_certificate(certificate)
#9 36.35    | |         -^^^^^^^^^^^^^^^^ method not found in `ServerConfigBuilder<WantsIdentity>`
#9 36.35    | |_________|
#9 36.35    |
#9 36.35 
#9 36.35 Some errors have detailed explanations: E0308, E0432, E0599.
#9 36.35 For more information about an error, try `rustc --explain E0308`.
#9 36.36 warning: `meow-server` (bin "meow-server") generated 2 warnings
#9 36.36 error: could not compile `meow-server` (bin "meow-server") due to 4 previous errors; 2 warnings emitted
#9 ERROR: process "/bin/sh -c cargo build --release" did not complete successfully: exit code: 101
------
 > [5/5] RUN cargo build --release:
36.35 19 | |         .with_bind_default(4433)
36.35 20 | |         .with_certificate(certificate)
36.35    | |         -^^^^^^^^^^^^^^^^ method not found in `ServerConfigBuilder<WantsIdentity>`
36.35    | |_________|
36.35    |
36.35 
36.35 Some errors have detailed explanations: E0308, E0432, E0599.
36.35 For more information about an error, try `rustc --explain E0308`.
36.36 warning: `meow-server` (bin "meow-server") generated 2 warnings
36.36 error: could not compile `meow-server` (bin "meow-server") due to 4 previous errors; 2 warnings emitted
------
Dockerfile:13
--------------------
  11 |     
  12 |     # NOTE: Cette ├®tape tente de construire le projet si Cargo.toml est pr├®sent.
  13 | >>> RUN cargo build --release
  14 |     
  15 |     # Exposition des ports pour WebTransport (UDP est crucial pour QUIC)
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c cargo build --release" did not complete successfully: exit code: 101

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/p0n9rptyz2u3qt1rlh4uu346o
